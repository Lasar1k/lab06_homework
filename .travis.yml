language: cpp

script:
- cd hello_world_application/
- cmake . && cmake --build . && cmake --build . --target package
- cmake . && cmake --build . && cmake --build . --target package_source
- cd ..//solver_application/
- cmake . && cmake --build . && cmake --build . --target package
- cmake . && cmake --build . && cmake --build . --target package_source
- cd .
- cpack -G DEB

addons:
  apt:
    sources:
      - george-edison55-precise-backports
    packages:
      - cmake
      - cmake-data
      - mingw-w64
      - rpm
deploy:
  provider: releases
  api_key: 
    secure: "UkB/8TKr+GQUxF0neAjP9gUVLpMFqJx5p5uihEt5y/79PYPWNdAfA2kDx3KvKJD5zIUpxyzqhP/835SbLAdNN6HD+3oZbCX8RcclG/NcTrhTLagdO6KSFc+FvGdORVYCmx5W2oYX31OLhijlfLuAVKD1GcDkh6xUAjvKZiD5BLtnKHCCYfks1JGLxQ98AjUJhHLDq2wNZ0l+dDpWaJgWzdTzKZg+IBbM37ctZ8kg9GeRyt9ZzWKW6iXqByeGY8dFxXLcDFiMpZtds5ck7lbv8HS3pldsU8bPSC12iAIAWrK4iBIUbYUsuqy4dYQm7jLZ6mh01jJbB4NXkN+3ZOCy0uCOvoKCjR7D+LFICZKAzcCOkD3M4jOkcih7mx5paR+Ra/dxzF51SNln6iM0qLN5G6HpozRm+4+fUiW0jxukGnSGMhCIYfymDmSKaA6vBB0CHzzkWp3xOQf71dIk/6dtJMoAxfaDBUL737UdYvEkUIyMKS8ug5vasJ/hdq+PDnvWziuia28o849OZv0PANjg7qahw1VftllbzoCHz0gJev57tle+ors+uR6cw10C+AqgXtHj5OF0q61CbRlIIseIMstfN0ZYMyPh3aCqRez7/vQaGEbZ/L7DWoGu4Phwm8S02hgBWjJKXbmw26jJzQMGDthQ1NYksLV96oUM90VVGhM="
  file: "/home/travis/build/Rogopl/lab06_homework/solver_application/solver-0.1.1-Linux.deb"
  cleanup: true
  on:
    branch: release
