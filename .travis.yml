language: cpp

script:
- cd hello_world_application/
- cmake . && cmake --build . && cmake --build . --target package
- cmake . && cmake --build . && cmake --build . --target package_source
- cd ..//solver_application/
- cmake . && cmake --build . && cmake --build . --target package
- cmake . && cmake --build . && cmake --build . --target package_source
- cd .
- cpack -G DEB

addons:
  apt:
    sources:
      - george-edison55-precise-backports
    packages:
      - cmake
      - cmake-data
      - mingw-w64
      - rpm
deploy:
  provider: releases
  api_key: 
    secure: "oAsKxd3FlZ5Ceo3R/m1PJ+o5VFLFtXnR6o3LtJmkj1rxqwQmYLEaT+9wmXXeoACPrMuwp2RqG2l+C2G+NG8cHGRi5ibk2J2jhjNUlciTx4of2PYqr5DEp/Vx5Qfd6yR5CRYmzmIO2c3O1llkAbxSFxPRjxbSTOolvRa9xKCoHNzIJ/kJGB6XG8DqbeR6KGy36xo3kzb8CH7wCNbmyBbzNnktTO+ApDCtWfNgEY2AqGENI4zf47TwiiwEzcMvV/JZTMmfGYWRwpSPsTSMEqiMKel9bZ7VlLARNmrcbtTRnDZsXNcWX60Iu/EBwMrk0PYzgkjtm+AGpWdr/XbPLK9tl0BnNHqHluUX5q7QQ+bcQgktU2ai2XTona1Nyx9oYr4wdtSrmC0Z0Mrm445Vd7GJt0IOkUaTxqrL4VOCsUVDShertZ59doTnDEOmehuEcGKGNeNWFqHnNe9VgpvyBAaZFtjLcNlUyXBDd8JIDqRSj1gpo+A+9+Vdl28eeyg8gz53syKxUybgk1unFVtEvik8FG8ZmaJ89AOHU2BuWjtfBo4mtoHUjTHKh8KZAEiukyU5nC39viJFXWeNJVYGfMhSUbTL4xlNudk8jPbpJdCnY01vZHJfas/K18xFd0mpOmlywmNr4Dr898NgubKtG7hrfwgYD/ZlzLiHUErws7wskC8="
  file: "/home/travis/build/Rogopl/lab06_homework/solver_application/solver-0.1.1-Linux.deb"
  skip_cleanup: true
  on:
    branch: release
