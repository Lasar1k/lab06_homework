language: cpp

script:
- cd hello_world_application/
- cmake . && cmake --build . && cmake --build . --target package
- cmake . && cmake --build . && cmake --build . --target package_source
- cd ..//solver_application/
- cmake . && cmake --build . && cmake --build . --target package
- cmake . && cmake --build . && cmake --build . --target package_source
- cd .
- cpack -G DEB

addons:
  apt:
    sources:
      - george-edison55-precise-backports
    packages:
      - cmake
      - cmake-data
      - mingw-w64
      - rpm
deploy:
  provider: releases
  api_key: 
    secure: "wGdxuzHZmYsb/QQeffYjvwp57WiuXX5pQxXyOaYoq3Okqj59odI5RoTPJ8D/lTTvl0ZpRa8g5R76/jjgzNkXEz7SFBvmOxeAEzE50HdVbiNjzBluLK2jdV7kQ/RhRbMSsZnKStoliCq1Awvo963G+gQts0LtrNvzq167M8ohTOamyt3TmhXS752wUS1UPAZyrwRu76wf1OvmFqBxvKxtH6lKJdyt1zwubOhfV2Kmzjq+1VYnVwik7uv1X5t6RuzxMmzZb9Amt69sKgVpZ30H2qQZGe3GwGJWaew4vutB2iOh8vhn0i2ywc5zSi8L6nabiUpuejuitmROJm2fzTBSd4wA3642WPnHhHkQEb5sG3IRqMEyVgodoNdfJNRO/l/VeKz4mmderBicmxFQV9jhcojeClny1v14G8n+oVs5kBqWGi1M2BYNLML5B0hgaNWFwhXoq53s3JzaPNd3bILnHcBGqtAsaJ7CuJgDYERRqrOF2j37czgQIUqyV/ww9FcvS6bEB9Igiec3i8+Er2V4WOHx4EMj9ZWvnnZn9PIYYqcoh0Dq03/vejmyePnB9RejcCGnnQWZmhDq77R1T+PM5RRQP3CR+4PVpBytAFzntm7WRHzXDhmGptQSvUo9A5FWMPLKTQE2YBwpAsZ5LJh9PXmYXzYcpPYm8jxusxyWPjY="
  file: "/home/travis/build/Rogopl/lab06_homework/solver_application/solver-0.1.1-Linux.deb"
  skip_cleanup: true
  on:
    branch: release
