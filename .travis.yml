language: cpp

script:
- cd hello_world_application/
- cmake . && cmake --build . && cmake --build . --target package
- cmake . && cmake --build . && cmake --build . --target package_source
- cd ..//solver_application/
- cmake . && cmake --build . && cmake --build . --target package
- cmake . && cmake --build . && cmake --build . --target package_source
- cd .
- cpack -G DEB

addons:
  apt:
    sources:
      - george-edison55-precise-backports
    packages:
      - cmake
      - cmake-data
      - mingw-w64
      - rpm
deploy:
  provider: releases
  api_key: 
    secure: "ovTzAWGM0MjwiIIScbAHByVuvyuy7dHOtkl6lrCe6MM5OrrVI+TER375SO/bZU3AhH9+dUh5sT23Kw/U2JM0CnuIvI2xvB9YmqF0V5XQl2s2ihv1Km7uGgABq1/tMfRagAZdjB64ifD9IX6ncZm/ggjNNdG/s34vnese2MTee2NlhTgipkQJhCCaJ2z5Edz8Hr76Q1jrWKU0fNbhqtoyXyiSm6DFntxebYs7ytlf3mGpdIELFWroSyI5RUF4evd27PyzAvbddksOmqj9JRsIXp19aLgpNsKx8I4daBOfqaLeLiBWkit15t+MTONx5ofiGQKxUOrLErwF2dS7lWp1gavWe50CfWd7F9RhulIYlgoUxDn6ZZc6sgJNDlyUowDEnAUC7rvYTbq7a2+2sea1WCaW2bIzOOebGIAaS9s8YVjg0h9iJFZufQ6FGKGSNWtX2xHbxeGiLXPqz1nMuSibT3Dw7VqAg9d5DpnEKd06HHsFI35cMruWN1fc8UqWoFqS5DSTEed7yVtbRDZwliBNRC5Oc4hhChEzB8I3lV8e0BdEw8P4c7RsZ9tY6weGyXKWblm2HZJkKS8owDgL5xMtK0lISutvbGxFs0tZZd8Szc0XoLe26TlVi65hUsHuQxJ1XUDuN2aIPDLvmowXs9Lh4uYPbUcm2HBIu9eXEkArA3A="
  file: "/home/travis/build/Rogopl/lab06_homework/solver_application/solver-0.1.1-Linux.deb"
  skip_cleanup: true
  on:
    branch: release
